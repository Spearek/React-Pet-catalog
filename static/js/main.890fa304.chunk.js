(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports={petContainer:"Pet_petContainer__35K6P",leftElements:"Pet_leftElements__19La4",title:"Pet_title__2WWjD",description:"Pet_description__2CJtW",foodContainer:"Pet_foodContainer__3rba1",rightElements:"Pet_rightElements__2G5Ul",petInfo:"Pet_petInfo__2ldYl",petAvatar:"Pet_petAvatar__1JjHE",remove:"Pet_remove__2QOV-"}},function(e,t,a){e.exports={navigation:"NavigationItems_navigation__a1uQu",active:"NavigationItems_active__2xdpp",petComponent:"NavigationItems_petComponent__1zofl"}},,,,function(e,t,a){e.exports={modal:"NewPet_modal__klqX4",modalClose:"NewPet_modalClose__FmRuB",leftElements:"NewPet_leftElements__1En4d",rightElements:"NewPet_rightElements__vUNBg",radioContainer:"NewPet_radioContainer__3Fs0J",speciesPaws:"NewPet_speciesPaws__1Z_Uw",tagsContainer:"NewPet_tagsContainer__3gQoC"}},function(e,t,a){e.exports={hamburger:"Burger_hamburger__1ZFYc",isActive:"Burger_isActive__361aA",hamburInner:"Burger_hamburInner__1bda-",hamburgerInner:"Burger_hamburgerInner__fv_KC",hamburgerBox:"Burger_hamburgerBox__HG14i",hamburgerSpin:"Burger_hamburgerSpin__1znxM"}},,,function(e,t,a){e.exports={sideDrawer:"SideDrawer_sideDrawer__1XPvd",open:"SideDrawer_open__3v9gM",close:"SideDrawer_close__1ZGf-"}},,,,,function(e,t,a){e.exports={container:"Cockpit_container__PnOIc"}},,,,function(e,t,a){e.exports={toolbar:"Toolbar_toolbar__1aWQ9",desktopOnly:"Toolbar_desktopOnly__39Lnm"}},,,function(e,t,a){e.exports={authContainer:"Auth_authContainer__1wt7c",authForm:"Auth_authForm__21ImD"}},,,,,,,,,,,,,function(e,t,a){e.exports={select:"speciesFilter_select__2ZDrz"}},function(e,t,a){e.exports={container:"FavFood_container__3_2fE"}},function(e,t,a){e.exports=a.p+"static/media/love_gray.1b28dbee.svg"},function(e,t,a){e.exports=a.p+"static/media/love.7a8ade7e.svg"},function(e,t,a){e.exports={loader:"Spinner_loader__2GrE-",load5:"Spinner_load5__2MTxO"}},function(e,t,a){e.exports={pets:"Pets_pets__1rbDG"}},,function(e,t,a){e.exports=a.p+"static/media/singlePaw.dce15f4f.svg"},function(e,t,a){e.exports=a.p+"static/media/bowl.56edf2b2.svg"},function(e,t,a){e.exports=a.p+"static/media/cat.872640e1.svg"},function(e,t,a){e.exports=a.p+"static/media/dog.9694d09e.svg"},function(e,t,a){e.exports=a.p+"static/media/hamster.70dc839e.svg"},function(e,t,a){e.exports=a.p+"static/media/paws.fedff2d4.svg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAoCAMAAAC2PjgYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjYjc0Nzg2Ny04ZWU3LTRiYWMtOGJkOS0zM2NhZTNiMjhlNDIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTdDNjZCNjkxMUU4MTFFOTk1RkNCOEQ0QUNDQzk4RDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTdDMUE2RTAxMUU4MTFFOTk1RkNCOEQ0QUNDQzk4RDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODdjZGVjZi0zYTRjLTQzNzItYWY2Zi03ZjdiOTJjMTg1MDAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Y2I3NDc4NjctOGVlNy00YmFjLThiZDktMzNjYWUzYjI4ZTQyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+TY96sAAAAaFQTFRFTKzwTKvvTKzv////S6vv/fr4SKrwTKvwwtvuHpzx6vL4TazwS6zwx+T5vuH6LaHwTazvRanwUa7vS6vwLaDwUa3vUa7wS6zvH5zxLaHxSKrvTavvSKnvvuD5vuH5RajwwtruSKvwRanx/f39R6nvUK3vwdruH53xR6nwRKjwLKDw7ff+7ff9/v388Pj+x+T6veD57fb9RKjvRajvvOD56vP4hMb1/v7+6fL48fj+R6rvx+X6UK7wxeT5J57xu9/5T63vXLPyLqTz/v797vX6L6Lw8ff78vn+Zbfx5u/2gMT0iMj1LaLwlc72g8X08Pj9UK3wz+TylM73sNr3/vv5yuP1Tq3wSq7zwdvu4vL9Zrjy0ur7Uq7vyeb7LKP06PT8GZnx/vz7Uq7w/v39RKnwOKTxO6bw+fj4L6HwUa3wSKnwyuf7R6rw8/n9iMf0x9/wYrbxWLX17PH0j8v27Pb9//r3LqLw6PT9gcT05vH6sdv57vf+YrXxXbXy//7+hsf1F5rxmdD3yOT55fH5wOH6S6/y9/r8tdv3//38+/z9xuP5OnYlXwAAAyxJREFUeNqMVQV7GzEMlRw3l/VuyeVCDbVNmbcyjZmZmZmZmX/1JNm3JE3ab0oT687P8rP0rMKH3xfPb4yXy2vj8Xg5Hm9vb4+z0SM79C2XeSzHp+6ePjgL3X+e7gJwfbdYdH3fd10fi/TrousW3SKQ57sIRRfgzOc39+HHkc0AGhUAKPOnFKQA2XFo0DSB9HG0erT/JWx7X0nRFDq8CHI0CY7ixahpQMbyoMiDd2dhbnCBY6JSsspukmIYL+EvbWJ2ubceWq9FEdGDOvM4PCghkjOvaMCF1dCarJCPWANGVX0iSuGhUPcQfLAgG2O96dCUjUD76yjBO3r4KLrODowMz5joWmmVUrw/rWF4V1ReO7U2HokMV9molCV3Zw20TkSFi6q1CJnxwBRCkg8l4a5N9mqsCldEx0xSYQx34bIsnAruMSMPsEDwyZ6lsQ3culrqwBAl0ZNRjbACnJkLIKWqmcEGuMm/CEYmHZToEwUv3LMZd8o7ygJtyEyWMOT+cT7SYGMzRkIsqyjlPVlA2YlsLNLERrRVKtqjCne2kWbwYa4hAyCEk1IVS+XVeCP62R4wV0sLfDpZgqaJtJkJjQsm0QsAy+edr5E2d9CSqSxNY12ZCCgXHT20ZRJqK8BZNALhRHZEuQqqQcCemKNCRVGvMJnJaaPqerg5qhGMttwXiUwlZdvIMmSsoijZA2GZVH3noPLuNLfWapiSozEn16MkgqjrAw/m3+6VLkOMaXRUTjoPR+8YMGVAqTXH0/V5pcSj0dQ/zZiW59BF8az2pTJamQIpLYxKizDdVaHN0J5HjoCe4uaqjMglj4ZY6QvMJQuOZ4phZGdvg+3TpnsqWZAiMl+vb/IRXEIp1wVf+j8BfOEA9J+APN+VrU6432DH4xvnspkgWNebyWaD29lDQXYdPWd6MwG/IS+byQTZIOi9EqSnYPTolg3bE+lEPpFPp/flEwny04nEEHkv2B9K80QiP5S/denCa9h68+fJVWxt5peGfvL7ye9vq76mz6fvx39B5GrL7sN9sVisrzMW6+yMnYrRWGvhY9/DJ8+7SR7do5db/seOjXbP/hVgAIXAR/fB9VLDAAAAAElFTkSuQmCC"},function(e,t,a){e.exports=a.p+"static/media/placeholder_cat.1c78e5d1.svg"},function(e,t,a){e.exports=a.p+"static/media/placeholder_dog.5057ae04.svg"},function(e,t,a){e.exports=a.p+"static/media/placeholder_rodent.5b3f5b57.svg"},function(e,t,a){e.exports=a.p+"static/media/logo-cat.05f9cd2d.svg"},function(e,t,a){e.exports={logoContainer:"Logo_logoContainer__1yWVE"}},,function(e,t,a){e.exports=a.p+"static/media/halftone-yellow.ce75830e.png"},function(e,t,a){e.exports={backdrop:"Backdrop_backdrop__2z9g5"}},function(e,t,a){e.exports={footer:"Footer_footer__36gCd"}},function(e,t,a){e.exports=a(102)},,,,,,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),i=a.n(o),c=a(12),s=a(22),l=a(3),u=a(48),p=(a(81),a(4)),d=a(5),m=a(7),h=a(6),f=a(8),v=a(19),E=(a(82),a(29)),g=a.n(E),b=function(e){return r.a.createElement("option",{value:e.pet},["Kot","Pies","Gryzo\u0144"][e.position])},k=a(49),w=a.n(k),y=function(e){var t=e.list.map((function(e,t){return r.a.createElement(b,{pet:e,key:e+"_key",position:t})}));return r.a.createElement("div",{className:w.a.select},r.a.createElement("select",{value:e.selected,onChange:e.change},r.a.createElement("option",{value:"default"},"Gatunek"),t))},j=function(e){return r.a.createElement("div",{className:g.a.container},r.a.createElement("div",{className:g.a.leftElements},r.a.createElement("p",null,"Sortowanie"),r.a.createElement("button",{onClick:e.sort.bind(void 0,"birthYear")},"Wiek"),r.a.createElement("button",{onClick:e.sort.bind(void 0,"name")},"Imi\u0119")),r.a.createElement("div",{className:g.a.rightElements},r.a.createElement("p",null,"Filtry"),r.a.createElement(y,{selected:e.selected,change:e.change,list:e.speciesList})))},_=a(50),P=a.n(_),A=function(e){return r.a.createElement("p",{className:P.a.container},e.favorite)},O=a(15),S=a.n(O),C=a(51),N=a.n(C),z=a(52),I=a.n(z),T=a(27),D=a.n(T),x=D.a.create({baseURL:"https://pet-app-5a986.firebaseio.com/"}),L=function(e,t){return{type:"AUTH_SUCCEED",token:e,userId:t}},H=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("email"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},R=function(e){return function(t){setTimeout((function(){t(H())}),1e3*e)}},F=a(2),U=a(28),M=function(e,t,a,n){var r=a.filter((function(t){return t.id===e}))[0];if(r.likedBy)if(r.likedBy.some((function(e){return e===t}))){var o=r.likedBy.findIndex((function(e){return e===t}));r.likedBy.splice(o,1)}else r.likedBy.push(t);else r.likedBy=[t];return{type:"LIKE_PET_UPDATE",newPetSpec:r,id:e}},Z=function(e){return{type:"LOCAL_PET_REMOVAL",petId:e}},W=function(){return function(e){x.get("/pets.json").then((function(t){var a=[];for(var n in t.data)a.push(Object(F.a)({},t.data[n],{id:n,addedBy:"anonymous"}));e(function(e){return{type:"STORE_PETS",newPets:e}}(a))}))}},Y=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).clickHandler=function(){a.props.likeClicked(a.props.token,a.props.petId,a.props.userId,a.props.petArr)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=N.a;this.props.isLiked&&(e=I.a);var t=r.a.createElement("img",{src:e,style:{height:"30px",idth:"30px",position:"absolute",bottom:"15px",right:"20px",cursor:"pointer"},alt:"heart icon",onClick:this.clickHandler});return this.props.isAuthenticated&&!this.props.myPetsSection||(t=null),r.a.createElement(r.a.Fragment,null,t)}}]),t}(n.Component),G=Object(l.b)((function(e){return{token:e.token,isAuthenticated:null!==e.token,petArr:e.pets,userId:e.userId}}),(function(e){return{likeClicked:function(t,a,n,r){return e(function(e,t,a,n){return function(r){x.get("/pets/".concat(t,"/likedBy.json")).then((function(o){if(o.data)if(o.data.some((function(e){return e===a}))){var i=o.data.findIndex((function(e){return e===a}));x.delete("/pets/".concat(t,"/likedBy/").concat(i,".json?auth=")+e).then((function(e){r(M(t,a,n))})).catch((function(e){console.log(e.response.data)}))}else{var c=o.data.length;x.patch("/pets/".concat(t,"/likedBy.json?auth=")+e,Object(U.a)({},c,a)).then((function(e){r(M(t,a,n))})).catch((function(e){console.log(e.response.data)}))}else x.patch("/pets/".concat(t,"/likedBy.json?auth=")+e,{0:a}).then((function(e){r(M(t,a,n))})).catch((function(e){console.log(e.response.data)}))})).catch((function(e){console.log(e.response.data)}))}}(t,a,n,r))}}}))(Y),V=function(e){var t,a=null,n=null,o=null;switch(e.likedArr&&e.likedArr.length>0&&(o=e.likedArr.some((function(t){return t===e.userId}))),void 0!==e.food&&(n=r.a.createElement("h4",null,"Ulubione jedzenie:"),a=e.food.map((function(e,t){return r.a.createElement(A,{favorite:e,key:e+t})}))),e.petSpecies){case"Dog":t="Pies";break;case"Cat":t="Kot";break;case"Rodent":t="Gryzo\u0144";break;default:t="Nieznany"}var i=null;return e.myPetsSection&&(i=r.a.createElement("span",{className:S.a.remove,onClick:e.click},"X")),r.a.createElement("div",{className:S.a.petContainer},r.a.createElement("div",{className:S.a.leftElements},r.a.createElement("h3",{className:S.a.title},e.petName),r.a.createElement("p",{className:S.a.description},"Kilka przyk\u0142adowych zda\u0144 o zwierzaku. Domy\u015blnie b\u0119d\u0105 one zaci\u0105gane z serwera. Na t\u0105 chwil\u0119 jest to placeholder. Je\u015bli sprawdzasz ten projekt - zerknij za jaki\u015b czas :)"),r.a.createElement("p",{className:S.a.petInfo},r.a.createElement("span",{style:{fontWeight:600}},"Wiek:")," ",e.petAge," lat"),r.a.createElement("p",{className:S.a.petInfo},r.a.createElement("span",{style:{fontWeight:600}},"Gatunek:")," ",t),n,r.a.createElement("div",{className:S.a.foodContainer},a)),r.a.createElement("div",{className:S.a.rightElements},r.a.createElement("div",{className:S.a.petAvatar},r.a.createElement("img",{src:e.petPhoto,alt:e.petSpecies+" photography"}))),i,r.a.createElement(G,{isLiked:o,petId:e.petId,myPetsSection:e.myPetsSection}))},J=a(53),B=a.n(J),X=function(){return r.a.createElement("div",{className:B.a.loader},"Loading...")},Q=a(54),K=a.n(Q),q=function(e){var t=(new Date).getFullYear(),a=r.a.createElement(X,null);return e.petList&&(a=e.petList.map((function(a){return"default"===e.visiblity||e.visiblity===a.species?r.a.createElement(V,{petName:a.name,petAge:t-a.birthYear,petSpecies:a.species,petPhoto:a.photo,food:a.favFoods,key:a.id,petId:a.id,likedArr:a.likedBy,userId:e.userId,click:e.click.bind(void 0,a.id),myPetsSection:e.myPetsSection}):null}))),r.a.createElement("div",{className:K.a.pets},a)},$=a(30),ee=a(55),te=a(56),ae=a.n(te),ne=function(e){var t=(new Date).getFullYear(),a={backgroundImage:"url(".concat(ae.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"left",backgroundSize:"contain"};return r.a.createElement("input",{style:a,type:e.newPetData.prop,value:e.newPetData.value,placeholder:e.newPetData.type,min:2e3,max:t,onChange:e.changed,required:!0})},re=a(20),oe=a.n(re),ie=function(e){return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("p",{style:{color:"red",fontSize:"10px",border:"1px solid black",height:"20px",padding:"0 10px",lineHeight:"200%",margin:"0 5px"}},e.foodName),r.a.createElement("span",{style:{fontSize:"12px",fontWeight:"bold",width:"13px",height:"13px",display:"block",backgroundColor:"red",lineHeight:"90%",color:"white",position:"absolute",borderRadius:"50%",right:"0",top:"-5px",cursor:"pointer"},onClick:e.remove},"x"))},ce=function(e){return r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:e.speciesName,name:"species",onChange:e.changed,checked:e.speciesName===e.radioChecked,required:!0}),["Kot","Pies","Gryzo\u0144"][e.position])},se=a(57),le=a.n(se),ue=a(58),pe=a.n(ue),de=a(59),me=a.n(de),he=a(60),fe=a.n(he),ve=a(61),Ee=a.n(ve),ge=a(62),be=a.n(ge),ke=a(63),we=a.n(ke),ye=a(64),je=a.n(ye),_e=a(65),Pe=a.n(_e),Ae=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={newPet:[{type:"Imi\u0119",value:"",prop:"text"},{type:"Rok urodzenia",value:"",prop:"number"},{type:"Gatunek",value:"",prop:"other"},{type:"Url zdj\u0119cia",value:"",prop:"text"}],radioChecked:"",favFoodList:[],currentFood:"",sending:!1},a.inputChangeHandler=function(e,t){var n=a.state.newPet.findIndex((function(e){return e.type===t})),r=Object(F.a)({},a.state.newPet[n]);r.value=e.target.value;var o=JSON.parse(JSON.stringify(a.state.newPet));o[n]=r,a.setState({newPet:o})},a.radioChangeHandler=function(e){var t=e.target.value;a.setState({radioChecked:t})},a.favFoodChangeHandler=function(e){a.setState({currentFood:e.target.value})},a.addFoodHandler=function(){var e=a.state.currentFood.replace(/\s+/g,"");if(e.length<3||e.length>15)window.alert("Ulubione jedzenie musi mie\u0107 pomi\u0119dzy 3 a 15 znak\xf3w!");else{var t=Object($.a)(a.state.favFoodList);t.push(a.state.currentFood),a.setState({favFoodList:t,currentFood:""})}},a.removeFoodHandler=function(e){var t=Object($.a)(a.state.favFoodList);t.splice(e,1),a.setState({favFoodList:t})},a.addPetHandler=function(){var e={name:a.state.newPet[0].value,species:a.state.radioChecked,favFoods:Object($.a)(a.state.favFoodList),birthYear:a.state.newPet[1].value,photo:a.state.newPet[3].value,addedBy:a.props.user};if(e.photo.length<=10)switch(e.species){case"Cat":e.photo=we.a;break;case"Dog":e.photo=je.a;break;case"Rodent":e.photo=Pe.a;break;default:alert("Should't reach that. Please refresh App")}a.props.addPet(e,a.props.token,a.props.haveErr);a.setState({favFoodList:[],newPet:[{type:"Imi\u0119",value:"",prop:"text"},{type:"Rok urodzenia",value:"",prop:"number"},{type:"Gatunek",value:"",prop:"other"},{type:"Url zdj\u0119cia",value:"",prop:"text"}],radioChecked:""})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t={backgroundImage:"url(".concat(le.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"left",backgroundSize:"contain"},a=this.props.species.map((function(t,a){return r.a.createElement(ce,{position:a,speciesName:t,changed:e.radioChangeHandler,radioChecked:e.state.radioChecked,key:t})})),n=this.state.newPet.map((function(t,a){return"other"!==t.prop?r.a.createElement(ne,{newPetData:t,key:a,changed:function(a){return e.inputChangeHandler(a,t.type)}}):null})),o=this.state.favFoodList.map((function(t,a){return r.a.createElement(ie,{foodName:t,remove:e.removeFoodHandler.bind(e,a),key:t+a})})),i=r.a.createElement("div",null,r.a.createElement("h3",null,"Opcja dost\u0119pna wy\u0142acznie dla autoryzowanych u\u017cytkownik\xf3w"),r.a.createElement("p",null,"Zaloguj si\u0119 lub za\u0142\xf3\u017c konto aby mie\u0107 mo\u017cliwo\u015b\u0107 dodania w\u0142asnego zwierzaka. "),r.a.createElement("button",{onClick:this.props.modalHandler.bind(this,!1)},"Zamknij"));return this.props.isAuth&&!this.props.isLoading&&(i=r.a.createElement("div",{className:oe.a.modal},r.a.createElement("h1",null,"Dodaj nowego zwierzaka"),r.a.createElement("span",{className:oe.a.modalClose,onClick:this.props.modalHandler.bind(this,!1)},"x"),r.a.createElement("form",{onSubmit:this.addPetHandler},r.a.createElement("div",{className:oe.a.leftElements},n,r.a.createElement("div",{className:oe.a.radioContainer},r.a.createElement("p",null,"Wybierz typ zwierzaka: "),r.a.createElement("span",{className:oe.a.speciesPaws},r.a.createElement("img",{src:Ee.a,alt:"paws icon"})),a)),r.a.createElement("div",{className:oe.a.rightElements},r.a.createElement("span",null,r.a.createElement("img",{src:pe.a,alt:"cat icon"})),r.a.createElement("span",null,r.a.createElement("img",{src:me.a,alt:"dog icon"})),r.a.createElement("span",null,r.a.createElement("img",{src:fe.a,alt:"hamster icon"}))),r.a.createElement("div",{className:oe.a.tagsContainer},r.a.createElement("input",{type:"text",style:t,placeholder:"Ulubione jedzenie",value:this.state.currentFood,onChange:this.favFoodChangeHandler}),r.a.createElement("span",{onClick:this.addFoodHandler},r.a.createElement("img",{src:be.a,alt:"plus sign"})),o),r.a.createElement("input",{type:"submit",value:"Dodaj"})))),this.props.isAuth&&this.props.isLoading&&(i=r.a.createElement(X,null)),r.a.createElement(ee.a,{open:this.props.modalStatus,closeOnDocumentClick:!0,onClose:this.props.modalHandler.bind(this,!1),modal:!0},i)}}]),t}(n.Component),Oe=Object(l.b)((function(e){return{isLoading:e.newPetLoading,haveErr:e.newPerError,token:e.token,user:e.userId}}),(function(e){return{addPet:function(t,a,n){return e(function(e,t,a){return function(a){a({type:"ADD_NEW_PET_START"}),x.post("/pets.json?auth="+t,e).then((function(e){a({type:"ADD_NEW_PET_SUCCEED"}),a(W())})).catch((function(e){var t=e.response.data.error;a(function(e){return{type:"ADD_NEW_PET_FAILED",error:e}}(t))}))}}(t,a))}}}))(Ae),Se=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=null;this.props.allPets&&(t=this.props.allPets.filter((function(e){return e.likedBy})).filter((function(t){return t.likedBy.some((function(t){return t===e.props.id}))})));var a=null;return t&&t.length<1&&(a=r.a.createElement("p",{style:{fontSize:"22px",fontWeight:"600",color:"red",marginTop:"10%"}},"Nie obserwujesz obecnie \u017cadnych zwierzak\xf3w.")),r.a.createElement("div",null,r.a.createElement("h2",null,"Lista obserwowanych Zwierzak\xf3w"),r.a.createElement(q,{petList:t,userId:this.props.id,click:this.props.removePet,visiblity:"default"}),a)}}]),t}(n.Component),Ce=Object(l.b)((function(e){return{id:e.userId,allPets:e.pets}}),(function(e){return{removePet:function(t){return e(Z(t))}}}))(Se),Ne=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).removePetHandler=function(e){a.props.removePet(e,a.props.id,a.props.userPets,a.props.token)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPets(this.props.id,this.props.needToFetch)}},{key:"render",value:function(){var e=null;return this.props.userPets&&this.props.userPets.length<1&&(e=r.a.createElement("p",{style:{fontSize:"22px",fontWeight:"600",color:"red",marginTop:"10%"}},"Nie masz jeszcze \u017cadnych dodanych zwierzak\xf3w.")),r.a.createElement("div",null,r.a.createElement("h2",null,"Lista dodanych Zwierzak\xf3w. "),r.a.createElement("p",null,"Poni\u017cej znajduje si\u0119 lista dodanych przez Ciebie zwierzak\xf3w."),r.a.createElement("p",null,"W ka\u017cdej chwili mo\u017cesz usun\u0105\u0107 wybranego zwierzaka z aplikacji klikaj\u0105c na ",r.a.createElement("span",{style:{color:"white",fontSize:"16px",marginTop:"10px",display:"inline-block",fontWeight:"600",background:"red",padding:"5px 15px",borderRadius:"5px"}},"X")),r.a.createElement(q,{petList:this.props.userPets,userId:this.props.id,visiblity:"default",click:this.removePetHandler,myPetsSection:!0}),e)}}]),t}(n.Component),ze=Object(l.b)((function(e){return{id:e.userId,userPets:e.userPets,token:e.token,needToFetch:e.needToFetch}}),(function(e){return{fetchPets:function(t,a){return e(function(e,t){return function(a){if(t){var n='/pets.json?orderBy="addedBy"&equalTo="'.concat(e,'"');x.get(n).then((function(e){var t=[];for(var n in e.data)t.push(Object(F.a)({},e.data[n],{id:n}));a({type:"FETCH_USER_PETS",pets:t})})).catch((function(e){console.log(e.response.data.error)}))}}}(t,a))},removePet:function(t,a,n,r){return e(function(e,t,a,n){return function(r){a.filter((function(t){return t.id===e}))[0].addedBy===t&&x.delete("/pets/".concat(e,".json?auth=")+n).then((function(t){r(Z(e))})).catch((function(e){console.log(e.response.data)}))}}(t,a,n,r))}}}))(Ne),Ie=a(33),Te=a.n(Ie),De=a(66),xe=a.n(De),Le=a(67),He=a.n(Le),Re=function(e){return r.a.createElement("div",{className:He.a.logoContainer},r.a.createElement("img",{src:xe.a,alt:"Cat logo"}))},Fe=a(16),Ue=a.n(Fe),Me=function(e){var t=r.a.createElement("ul",{className:Ue.a.navigation},r.a.createElement("li",{className:Ue.a.petComponent,onClick:e.modalHandler.bind(void 0,!0)},r.a.createElement("p",null,"Dodaj zwierzaka")),r.a.createElement("li",null,r.a.createElement(c.b,{activeClassName:Ue.a.active,to:"/",exact:!0},"Lista zwierzak\xf3w")),r.a.createElement("li",null,r.a.createElement(c.b,{activeClassName:Ue.a.active,to:"/authorisation"},"Zaloguj si\u0119")));return e.isAuth&&(t=r.a.createElement("ul",{className:Ue.a.navigation},r.a.createElement("li",{className:Ue.a.petComponent,onClick:e.modalHandler.bind(void 0,!0)},r.a.createElement("p",null,"Dodaj zwierzaka")),r.a.createElement("li",null,r.a.createElement(c.b,{activeClassName:Ue.a.active,to:"/",exact:!0},"Lista zwierzak\xf3w")),r.a.createElement("li",null,r.a.createElement(c.b,{activeClassName:Ue.a.active,to:"/my-pets"},"Moje zwierzaki")),r.a.createElement("li",null,r.a.createElement(c.b,{activeClassName:Ue.a.active,to:"/my-collection"},"Obserwowane")),r.a.createElement("li",null,r.a.createElement(c.b,{activeClassName:Ue.a.active,to:"/logout"},"Wyloguj")))),r.a.createElement("nav",null,t)},Ze=a(21),We=a.n(Ze),Ye=function(e){var t="";return t=e.active?[We.a.hamburger,We.a.hamburgerSpin,We.a.isActive].join(" "):[We.a.hamburger,We.a.hamburgerSpin].join(" "),r.a.createElement("button",{className:t,type:"button",onClick:e.clicked},r.a.createElement("span",{className:We.a.hamburgerBox},r.a.createElement("span",{className:We.a.hamburgerInner})))},Ge=function(e){var t=null;return e.isDrawerOpen||(t=r.a.createElement(Re,null)),r.a.createElement("header",{className:Te.a.toolbar},r.a.createElement(Ye,{active:e.isDrawerOpen,clicked:e.burgerClicked}),t,r.a.createElement("div",{className:Te.a.desktopOnly},r.a.createElement(Me,{modalHandler:e.modalHandler,isAuth:e.isAuth})))},Ve=a(69),Je=a.n(Ve),Be=a(24),Xe=a.n(Be),Qe=a(70),Ke=a.n(Qe),qe=function(e){return e.show?r.a.createElement("div",{className:Ke.a.backdrop,onClick:e.clicked}):null},$e=function(e){var t=[Xe.a.sideDrawer,Xe.a.close];return e.show&&(t=[Xe.a.sideDrawer,Xe.a.open]),r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,{show:e.show,clicked:e.clicked}),r.a.createElement("div",{className:t.join(" "),onClick:e.clicked},r.a.createElement(Me,{modalHandler:e.modalHandler,isAuth:e.isAuth}),r.a.createElement(Re,null)))},et=a(36),tt=a.n(et),at=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",pass:"",haveAccount:!0},a.authMethodHandler=function(){a.props.err&&a.props.removeErrInfo(),a.setState((function(e){return{haveAccount:!e.haveAccount}}))},a.inputChangeHandler=function(e,t){var n=e.target.value;"email"===t&&a.setState({email:n}),a.setState({pass:n})},a.tryToAuthHandler=function(e){e.preventDefault(),a.props.tryToAuth(a.state.email,a.state.pass,a.state.haveAccount,a.props.err)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=null;this.props.isAuthenticated&&(t=r.a.createElement(v.a,{to:"/"}));var a="Zaloguj si\u0119",n=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Nie masz jeszcze konta?"),r.a.createElement("p",null,"Nic straconego, kliknij ",r.a.createElement("span",{onClick:this.authMethodHandler},"TUTAJ")," aby przej\u015b\u0107 do Rejestracji"));this.state.haveAccount||(a="Zarejestruj si\u0119",n=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Masz ju\u017c konto?"),r.a.createElement("p",null,"\u015awietnie, przejd\u017a ",r.a.createElement("span",{onClick:this.authMethodHandler},"TUTAJ")," aby zalogowa\u0107 si\u0119 do aplikacji.")));var o=r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,a),r.a.createElement("p",null,a," w aplikacji aby w pe\u0142ni korzysta\u0107 z jej funkcjonalno\u015bci."),r.a.createElement("p",null,"Dodawaj nowe zwierzaki, przegl\u0105daj ju\u017c dodane i tw\xf3rz w\u0142asn\u0105 kolekcj\u0119!"),r.a.createElement("form",{className:tt.a.authForm,onSubmit:this.tryToAuthHandler},r.a.createElement("input",{type:"email",placeholder:"Adres email",required:!0,onChange:function(t){return e.inputChangeHandler(t,"email")}}),r.a.createElement("input",{type:"password",placeholder:"Has\u0142o",required:!0,onChange:function(t){return e.inputChangeHandler(t,"pass")}}),r.a.createElement("span",null,this.props.err),r.a.createElement("button",{type:"submit"},a)),n);return this.props.loading&&(o=r.a.createElement(X,null)),r.a.createElement("div",{className:tt.a.authContainer},t,o)}}]),t}(n.Component),nt=Object(l.b)((function(e){return{err:e.authError,loading:e.authLoading,isAuthenticated:null!==e.token}}),(function(e){return{tryToAuth:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"AUTH_START"}),n&&r({type:"AUTH_ERR_REMOVED"});var o={email:e,password:t,returnSecureToken:!0},i="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyA-Wbo_JYo2XFL3YwJcVO_BUXmNemLE1aw";a||(i="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyA-Wbo_JYo2XFL3YwJcVO_BUXmNemLE1aw"),D.a.post(i,o).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("userId",e.data.localId),localStorage.setItem("email",e.data.email),localStorage.setItem("expirationDate",t),r(R(e.data.expiresIn)),r(L(e.data.idToken,e.data.localId))})).catch((function(e){r(function(e){return{type:"AUTH_FAILED",error:e}}(e.response.data.error))}))}}(t,a,n,r))},removeErrInfo:function(){return e({type:"AUTH_ERR_REMOVED"})}}}))(at),rt=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.userLogout()}},{key:"render",value:function(){return r.a.createElement(v.a,{to:"/"})}}]),t}(n.Component),ot=Object(l.b)(null,(function(e){return{userLogout:function(){return e(H())}}}))(rt),it=a(71),ct=a.n(it),st=function(){return r.a.createElement("div",{className:ct.a.footer},"Page created by Mateusz Dzida. All project Icons were created by Freepik from ",r.a.createElement("a",{href:"https://www.flaticon.com"},"www.flaticon.com")," ")},lt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={speciesSelectVal:"default",modalStatus:!1,sideDrawerOpen:!1},a.speciesFilterHandler=function(e){a.setState({speciesSelectVal:e.target.value})},a.modalStatusHandler=function(e){a.setState({modalStatus:e})},a.sideDrawerHandler=function(){a.setState((function(e){return{sideDrawerOpen:!e.sideDrawerOpen}}))},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.getPets(),this.props.authCheck()}},{key:"render",value:function(){var e=this,t=r.a.createElement(r.a.Fragment,null,r.a.createElement(v.b,{path:"/authorisation",component:nt}),r.a.createElement(v.b,{path:"/React-Pet-Catalog",exact:!0,render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,Object.assign({selected:e.state.speciesSelectVal,change:e.speciesFilterHandler,speciesList:e.props.species,sort:e.props.sortPets},t)),r.a.createElement(q,Object.assign({petList:e.props.pets,click:e.props.removePet,visiblity:e.state.speciesSelectVal,userId:e.props.id},t)))}}),r.a.createElement(v.b,{path:"/",exact:!0,render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,Object.assign({selected:e.state.speciesSelectVal,change:e.speciesFilterHandler,speciesList:e.props.species,sort:e.props.sortPets},t)),r.a.createElement(q,Object.assign({petList:e.props.pets,click:e.props.removePet,visiblity:e.state.speciesSelectVal,userId:e.props.id},t)))}}));this.props.isAuthenticated&&(t=r.a.createElement(r.a.Fragment,null,r.a.createElement(v.b,{path:"/my-collection",component:Ce}),r.a.createElement(v.b,{path:"/my-pets",component:ze}),r.a.createElement(v.b,{path:"/authorisation",component:nt}),r.a.createElement(v.b,{path:"/logout",component:ot}),r.a.createElement(v.b,{path:"/React-Pet-Catalog",exact:!0,render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,Object.assign({selected:e.state.speciesSelectVal,change:e.speciesFilterHandler,speciesList:e.props.species,sort:e.props.sortPets},t)),r.a.createElement(q,Object.assign({petList:e.props.pets,click:e.props.removePet,visiblity:e.state.speciesSelectVal,userId:e.props.id},t)))}}),r.a.createElement(v.b,{path:"/",exact:!0,render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,Object.assign({selected:e.state.speciesSelectVal,change:e.speciesFilterHandler,speciesList:e.props.species,sort:e.props.sortPets},t)),r.a.createElement(q,Object.assign({petList:e.props.pets,click:e.props.removePet,visiblity:e.state.speciesSelectVal,userId:e.props.id},t)))}})));var a=localStorage.getItem("email");return r.a.createElement("div",{className:"App",style:{backgroundImage:"url(".concat(Je.a,")")}},r.a.createElement(Ge,{modalHandler:this.modalStatusHandler,isDrawerOpen:this.state.sideDrawerOpen,burgerClicked:this.sideDrawerHandler,isAuth:this.props.isAuthenticated}),r.a.createElement($e,{modalHandler:this.modalStatusHandler,show:this.state.sideDrawerOpen,clicked:this.sideDrawerHandler,isAuth:this.props.isAuthenticated}),r.a.createElement(Oe,{species:this.props.species,modalStatus:this.state.modalStatus,modalHandler:this.modalStatusHandler,isAuth:this.props.isAuthenticated}),this.props.isAuthenticated?r.a.createElement("div",{className:"welcomeUser"},r.a.createElement("h3",null,"Zalogowano jako: ",a)):null,t,r.a.createElement(st,null))}}]),t}(n.Component),ut=Object(l.b)((function(e){return{species:e.speciesList,pets:e.pets,isAuthenticated:null!==e.token,id:e.userId}}),(function(e){return{getPets:function(){return e(W())},authCheck:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var a=new Date(localStorage.getItem("expirationDate")).getTime(),n=(new Date).getTime();if(a<=n)e(H());else{var r=localStorage.getItem("userId"),o=(a-n)/1e3;e(L(t,r)),e(R(o))}}else e(H())}))},removePet:function(t){return e(Z(t))},sortPets:function(t){return e(function(e){return{type:"SORT_PETS",property:e}}(t))}}}))(lt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pt={pets:null,speciesList:["Cat","Dog","Rodent"],token:null,userId:null,authLoading:!1,authError:"",newPetLoading:!1,newPerError:"",userPets:null,needToFetch:!0},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_PETS":return Object(F.a)({},e,{pets:t.newPets,needToFetch:!0});case"LOCAL_PET_REMOVAL":var a=JSON.parse(JSON.stringify(e.pets)),n=JSON.parse(JSON.stringify(e.userPets)),r=a.findIndex((function(e){return e.id===t.petId})),o=n.findIndex((function(e){return e.id===t.petId}));return a.splice(r,1),n.splice(o,1),Object(F.a)({},e,{pets:a,userPets:n});case"SORT_PETS":var i=JSON.parse(JSON.stringify(e.pets));return i.sort((function(e,t){return e.name>t.name?1:-1})),"birthYear"===t.property&&(i.sort((function(e,t){return e.birthYear>t.birthYear?1:-1})),i.reverse()),Object(F.a)({},e,{pets:i});case"LIKE_PET_UPDATE":var c=e.pets.findIndex((function(e){return e.id===t.id})),s=JSON.parse(JSON.stringify(e.pets));return s[c]=t.newPetSpec,Object(F.a)({},e,{pets:s});case"ADD_NEW_PET_START":return Object(F.a)({},e,{newPetLoading:!0});case"ADD_NEW_PET_SUCCEED":return Object(F.a)({},e,{newPetLoading:!1,needToFetch:!0});case"ADD_NEW_PET_FAILED":return Object(F.a)({},e,{newPetLoading:!1,newPerError:t.error});case"FETCH_USER_PETS":return Object(F.a)({},e,{userPets:t.pets,needToFetch:!1});case"AUTH_START":return Object(F.a)({},e,{authLoading:!0});case"AUTH_SUCCEED":return Object(F.a)({},e,{token:t.token,userId:t.userId,authLoading:!1,needToFetch:!0});case"AUTH_FAILED":return Object(F.a)({},e,{authLoading:!1,authError:t.error.message});case"AUTH_ERR_REMOVED":return Object(F.a)({},e,{authError:""});case"AUTH_LOGOUT":return Object(F.a)({},e,{token:null,userId:null,userPets:null,needToFetch:!0});default:return e}},mt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,ht=Object(s.d)(dt,mt(Object(s.a)(u.a)));i.a.render(r.a.createElement(l.a,{store:ht},r.a.createElement(c.a,{basename:"/React-Pet-catalog/"},r.a.createElement(ut,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[72,1,2]]]);
//# sourceMappingURL=main.890fa304.chunk.js.map